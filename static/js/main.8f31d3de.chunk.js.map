{"version":3,"sources":["LocalStorageFunctions/storage.ts","redux/store-reducer.ts","redux/selectors.ts","App.tsx","reportWebVitals.ts","redux/store.ts","index.tsx"],"names":["restoreState","key","defaultState","stateAsString","localStorage","getItem","JSON","parse","ACTION_TYPES","initState","state","initialState","values","max","start","count","countMessage","error","setError","type","SET_ERROR_AT","payload","setCount","SET_COUNT_AT","setCountMessage","SET_COUNT_MESSAGE_AT","setValues","SET_VALUES_AT","setMax","SET_MAX","setStart","SET_START","App","dispatch","useDispatch","useSelector","useEffect","output","errorClassName","inputErrorClassName","className","onChange","e","value","parseInt","currentTarget","disabled","onClick","newValues","setItem","stringify","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","action","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8f31d3de.chunk.js","sourcesContent":["export function saveState<T> (key: string, state: T) {\n    localStorage.setItem(key, JSON.stringify(state))\n}\n\nexport function restoreState<T>(key: string, defaultState: T) {\n    let state = defaultState\n    const stateAsString = localStorage.getItem('values')\n    if (stateAsString) {\n        state = JSON.parse(stateAsString)\n        return state\n    } else return null\n}","export enum ACTION_TYPES {\n    SET_VALUES_AT = 'SET-VALUES-AT',\n    SET_ERROR_AT = 'SET-ERROR-AT',\n    SET_COUNT_AT = 'SET-COUNT-AT',\n    SET_COUNT_MESSAGE_AT = 'SET-COUNT-MESSAGE-AT',\n    SET_MAX = 'SET-MAX',\n    SET_START = 'SET-START',\n}\n\nexport type ValuesType = {\n    max: number,\n    start: number,\n}\n\nconst initialState = {\n    values: {\n        max: 0,\n        start: 0,\n    },\n    max: 0,\n    start: 0,\n    count: 0,\n    countMessage: '',\n    error: true,\n}\n\ntype InitialStateType = typeof initialState\n\nexport const stateReducer = (state = initialState, action: CommonActionType): InitialStateType => {\n    debugger\n    switch (action.type) {\n        case ACTION_TYPES.SET_VALUES_AT:\n        case ACTION_TYPES.SET_ERROR_AT:\n        case ACTION_TYPES.SET_COUNT_AT:\n        case ACTION_TYPES.SET_COUNT_MESSAGE_AT:\n        case ACTION_TYPES.SET_MAX:\n        case ACTION_TYPES.SET_START:\n            return {...state, ...action.payload}\n        default:\n            return state;\n    }\n}\n\nexport type CommonActionType = ReturnType<typeof setError>\n    | ReturnType<typeof setCount>\n    | ReturnType<typeof setCountMessage>\n    | ReturnType<typeof setValues>\n    | ReturnType<typeof setMax>\n    | ReturnType<typeof setStart>\n\nexport const setError = (error: boolean) => ({type: ACTION_TYPES.SET_ERROR_AT, payload: {error}} as const)\nexport const setCount = (count: number) => ({type: ACTION_TYPES.SET_COUNT_AT, payload: {count}} as const)\nexport const setCountMessage = (countMessage: string) => ({type: ACTION_TYPES.SET_COUNT_MESSAGE_AT, payload: {countMessage}} as const)\nexport const setValues = (values: ValuesType) => ({type: ACTION_TYPES.SET_VALUES_AT, payload: {values}} as const)\nexport const setMax = (max: number) => ({type: ACTION_TYPES.SET_MAX, payload: {max}} as const)\nexport const setStart = (start: number) => ({type: ACTION_TYPES.SET_START, payload: {start}} as const)","import {GlobalState} from './store';\n\nexport const initState = (state: GlobalState) => state.state","import React, {ChangeEvent, useEffect, useState,Dispatch} from 'react';\nimport './App.css';\nimport {restoreState, saveState} from './LocalStorageFunctions/storage';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {initState} from './redux/selectors';\nimport {CommonActionType, setCount, setCountMessage, setError, setMax, setStart, setValues, ValuesType} from './redux/store-reducer';\n\n// export type ValuesType = {\n//     [key: string]: number\n// }\n\nfunction App() {\n\n    const dispatch = useDispatch<Dispatch<CommonActionType>>()\n\n    const {\n        values,\n        max,\n        start,\n        count,\n        countMessage,\n        error,\n    } = useSelector(initState)\n\n    useEffect(() => {\n        let state = restoreState<ValuesType>('values', values)\n        if (state) {\n            dispatch(setError(false))\n            dispatch(setValues(state))\n            dispatch(setMax(state.max))\n            dispatch(setStart(state.start))\n            dispatch(setCount(state.start))\n        } else {\n            dispatch(setCountMessage('enter values and press \"set\"'))\n        }\n    }, [])\n\n    const onMaxInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n        let value = parseInt(e.currentTarget.value)\n        dispatch(setMax(value))\n        dispatch(setCountMessage('enter values and press \"set\"'))\n        if (value < 0 || value <= start) {\n            dispatch(setError(true))\n            dispatch(setCountMessage('incorrect values'))\n        } else dispatch(setError(false))\n    }\n\n    const onStartInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n        let value = parseInt(e.currentTarget.value)\n        setStart(value)\n        dispatch(setCountMessage('enter values and press \"set\"'))\n        if (value < 0 || value >= max) {\n            dispatch(setError(true))\n            dispatch(setCountMessage('incorrect values'))\n        } else dispatch(setError(false))\n    }\n\n    const setCurrentStorage = () => {\n        let newValues = {max: max, start: start}\n        dispatch(setCount(newValues.start))\n        dispatch(setValues(newValues))\n        saveState<ValuesType>('values', newValues)\n    }\n\n    const setCurrentCount = () => {\n        dispatch(setCount(count + 1))\n    }\n    const resetCurrentCount = () => {\n        let state = restoreState<ValuesType>('values', values)\n        if (state) dispatch(setCount(state.start))\n    }\n\n    const output = restoreState<ValuesType>('values', values) ? (error ? countMessage : count) : countMessage\n    const errorClassName = error ? 'error' : ''\n    const inputErrorClassName = error ? 'error-input' : max === start ? 'error-input' : 'input'\n\n    return (\n        <div className={'head-container'}>\n            <div className={'container'}>\n                <label>Set max: <input className={inputErrorClassName} onChange={onMaxInputChange} value={max} type='number'/></label>\n                <label>Set min: <input className={inputErrorClassName} onChange={onStartInputChange} value={start} type='number'/></label>\n                <div className={'button-container'}>\n                    <button\n                        disabled={error ? true : max === start}\n                        className={'button'}\n                        onClick={setCurrentStorage}>set\n                    </button>\n                </div>\n            </div>\n            <div className={'container'}>\n                <span className={errorClassName}>{output}</span>\n                <span>Current setup: <br/>\n                    max - {values.max}, start - {values.start}</span>\n                <div className={'button-container'}>\n                    <button\n                        disabled={count === values.max ? true : error}\n                        className={'button'}\n                        onClick={setCurrentCount}>count\n                    </button>\n                    <button\n                        disabled={count === values.start ? true : error}\n                        className={'button'}\n                        onClick={resetCurrentCount}>reset\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {combineReducers, createStore} from 'redux';\nimport {stateReducer} from './store-reducer';\n\n\nconst reducers = combineReducers({\n    state: stateReducer\n})\n\nexport type GlobalState = ReturnType<typeof reducers>\n\nexport const store = createStore(reducers)\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport {store} from './redux/store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}